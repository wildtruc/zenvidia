* 2022-12-26 - v2.0.1
  - In the particular circonstance of a fresh kernel update (happens to me today), only the defined module type is automaticaly compiled at boot time by DKMS daemon (open or prop). This situation wasn't expected by open driver switch tool. Now the tool have acces to recompile section for this particlar case.
  - Distro config section at start didn't take care of sudo unknown type over a known or unknown distro. now the sudo type is ask and saved in the main script conf if not in default known distro list.
  - Add a display manager restart/reenable function when in rescue terminal mode only (bored to type it each time when testing).  Function also reload drivers allowing to emmediatly start the DM. DM is evaluate on systemctl status. If it doesn't work for you, post a thread in discussion with the result of systemctl status [your-dm].
  - Fix a few nutshells in README.md HELP.txt and other. I will probably find more in future.
* 2023-01-03 - v2.0.2
 - Found that "Update driver for an other kernel" was still using old vars and wasn't install driver in the disered kernel path. This is fixed.
 - Found that Display Manager detection was useless if DM service was manually disable. Reworked with a 'known' dm service list (gdm,kdm,xdm,lightdm,lxdm,slim,sddm) then fall back to previous method if not found. If you have a better idea for fallback, be welcome.
 - grub command find method was wrong, fixed.
 - Encapsuled code for xterm process was faulty in many ways. Remove, add/remove wasn't work properly in some condition. This patch try a new process.
 - Dkms has issues when a kernel host a driver he didn't manage and just not remove it even asked for. It happens some times too when updating a driver for an other kernel. This patch is trying to fix this.
 - initramfs is not usefull in all circonstances. This is long and boring process to just fixing open/prop value at kernel boot.
 The issue is that not all install dkms process take over a simple modprobe relaod and initrmafs update is still necessary.
 For this patch, "Update driver for an other kernel" is using it , other install function use modprpobe and systemd-modules-reload service with a fallback to initrmafs update tool if systemed tool is not found.
 - removed driver backup in nvidia's directory. It became useless.
 - reordered shared_var process that only belonged to old script's system.
 - zen_notify was displaying a use le blank line. This is fix (hopefuly).
 - add a reinit command to command line rescue process that only taking care of initramfs and DM service restore.
 - exec_mod_load take care of the installed divice when doing modprobe, could be changed to "all" if reporing issues.
 - nv_cmd_make_src need probably to be reviewed.
 - Else : I need a rest v_v ...
* 2023-01-04 - v2.0.3
 - modprobe modules reload was experimented in last 'push' v2.0.2 for driver upgrade. It definively doesn't work. Initramfs update is now used only until find out a better solution. In case you this issue, just exec 'zenvidia reinit [driver_version]' when locked in terminal at boot.
 - basic conf has been reorder to diplay important sets first and make it more readable.
 - fixed little mistakes.
 - issue : need to get pid when in VT mode and kill it at DM service start because the console is still active and zenvidia doesn't report the right user (root instead of default user).
* 2023-01-05 - v2.0.4
 - Forgot to update 'open driver switch' to new 'version' detection function. Fixed ( Yeah, not my best swing...)
 - Found a way to kill extra root tty when starting from console. Now the pid is auto killed after DM start.
 - Trying to find a way to prevent wrong driver to be compiled at boot time (case mutli versions present in DKMS /var/lib). DKMS seems to like the higher version even if a lower is installed.
* 2023-01-08 - v2.0.5 (with 525.78.01 fix)
 - INCLUDE FAST FIX: Driver version 525.78.01 give error at nvidia-drm driver load with nvidia.drm-modeset=1. This patch look in basic conf for a custom setting of nvidia.drm-modeset to overwrite automation. Read README to how add the custom line in basic file. Or remove local basic conf to get shipped default.
 This was made in emergency, some issues could appears because of the changes below.
 - After research and tests, it appears adding the dedicted DKMS blank file 'no-autoinstall' in /etc/dkms allow to build only the authorized dkms.conf file with 'AUTOINSTALL=yes' to be compile at boot time. This is now how zenvidia works.
 However, the distro package updater (fedora dnf in my case) seems needing the DKMS option 'autoinstall -all' to be set at kernel update, and thus, package install scripts don't compile the driver. This is absolutly not fatal, juste anoying.
 Note that if you have other drivers to be compile at boot time, you need to add in their dkms.conf file the option 'AUTOINSTALL=yes'; if you don't, they just wont compile at a new kernel update.
 - Looking for a way to use initramfs divert tools without put it in distro configuration files. Known tools are : dracut, update-initramfs, mkinitcpio. Script now look up to this tools in the describe order then autoconfig it internaly to exec initramfs reload. If none is found, it ask to proceed with modprobe reload only with a warn about consequencies or abort.
 Because of the fast fix, distro's config files are not update yet.
 - Devs have change something in version changelog text I didn't look into yet that prevent last changes to be read correctly.
* 2023-01-12 - v2.0.6
 - Changelog text file reading is fix (found some mistakes by the way). Hoping my dear lovely trolls wont change something else at next version :).
 - Fixed base menu display that suddently change for an absolutly unknown reason O_o. If you meet Zenity display issues, please tell it in Discussion section.
 - Zen Notify git repos part wasn't report and display correcty needed messages. It's hopefuly fixed. Complete change log can be found in default user zenvidia's directory (.zenvidia/src/zen_git.log).
 - A few moves in script syntax. I keep going deeper into the code until my thought tell me that everything is stable enought.
* 2023-01-15 - v2.0.7
 - zen_notify option command '-z' (driver and zenvidia update notification) wasn't report and fill changelog and notfication correctly (wrong comparative date check). This is fixed ... probably.
 - uploaded admended distro config files.
* 2023-01-17 - v2.0.8
 - add a Zenvidia changes log reader. Useless, therefore obviously a mandatory feature.
 - Trying to find a way to not use initramfs_tools and was partly successful. All update modules tools works fine without rebuilding initramfs, but install and upgrade section still need it. Add an option in basic config file to set/unset use of initramfs that could be usefull in futur and present if user want to use initramfs only for all purpose or issue. Still diging.
 - Changed for a lighter method to discover needed system commands (dkms, lspci, etc).
 - Little review of dep_control function to diplay missing dependencies list instead of just warn.
* 2023-01-21 - v2.0.9
 - Went to last update to fast and didn't test zen_notify enought. I'm not a great git syntax user and it appears that using 'git fetch' on the downloaded zenvidia git repo wasn't a good idea. I wished to add last updated files in zenvidia log, but it's now certain that it couldn't be done with git only. So, only change log is now added (this change log), and put an issue alert if new mistake and so on, pops up... again.
 - Globally, my apologies. Yes, this is not the last...
 - Archive restore DKMS section was wrong and give wrong version number that removed ... the restored nvidia dir at the end u_u. Plus, when DKMS process engage for modules build, old version were wrongly define, then dkms wont installed nothing because the restored version were lower than the already present one. This a dkms limitation. Fixed.
 - For the same reasons, commandline tools has been admended to work in the same way.
 - Add a check sum control and fix a size diff between remote and local downloaded drivers packages, that... didn't diff nothing (old zenvidia bad legacy). Script now control if check sum is possible, but check also if size between downloaded and remote differ in case of download error.
 - initrmafs process is now applied on a mandatory for install/upgrade drivers and for archives restore if dkms is use to build inexistent modules. No alternative found at this moment.
 - There's still some little things I wish to change.
 - I hope this the very last of my mistakes this time v_v. Should I apply for a job at M$ ?
* 2023-01-22 - v2.0.10
 - zen_notify issue with '-z' option (again v_v), previous patch was mistaken. Fixed.
 - read zenvidia changelog was read from zenvidia local dir, this is rubbish. Read now from Changelog.txt.
 - Makefile change accordingly.
* 2023-01-27 - v2.0.11
 - restore backup previous package detection mistake. A variable was misplaced in processus that prevent previous version dir to be removed (not fatal, anoying).
 - restore backup tool was using modprobe reload that seemed to work, but, not really. Fallback to initramfs_tools until figure out something more sure. Use command line reinit tool in case of troubles.
 - Re arranged update section window and behaviour.
 - Secondary driver was always compiling even if already builded. Add a filter to detect if driver is already in DKMS path before building anything.
* 2023-02-07 - v2.0.12
 - It appears that tue 'who' command to identify desktop user doesn't report anything in some end user interfece (lxde in my case, I didn't know that). Added a fallback in zenvidia and reverse to old way in makefile (a bit archa√Øc, but working).
 - Found also a mistake in auto distro config checker. Fixed.
 - Add a check driver family serie in pre install/download section to inform wich serie is compatible when older driver are select. If found, last driver of this serie is proposed in the install/download list.
 - Revamp older driver serie download section that was still in old zenvidia version mode.
 - Many mandatory little changes also in consequencies of the rework above.
 - Zen Notify wasn't checking date if local zenvidia changelog file was already wrote. Fixed.
 - Simplifyied PCI_ID
 - Because of number of test show cases of all this change, this is very exp√©rimeantal and there still tests to do. Issue report would be very welcome.
 - NOTE : When installing driver for old devices not supported by actual driver serie, in case of Optimus/Prime nothing is managed to warn or prepare for this type of device system; so be aware that it could break your xorg config if you install drivers for Optimus/Prime. Diging for a soft solution (my old laptop would be delighted).
 - NOTE : It look like that the default font used in Zenvidia is not install by default in all distro (Google-Noto-Sans) and because of this, zenity doesn't display correctly tab and so on. Further research is need to fix this.
* 2023-02-07 - v2.0.13
 - Missing loop in hardware_compat in case on multi GPU devices detection.
* 2023-02-11 - v2.0.14
 - Add warning and auto drivers setting for Optimus in case of multi and non Nvidia devices detection. (xorg part still todo, maybe). Default Basic conf has been change accordingly and zenvidia local conf need to be update (seed README.md for manually update details).
 - Fixed daily zenvidia internal zen_notify check file owner that prevent zen_notif itself to update the daily check file (case no file found at first start).
 - Remove a useless zen_notify autostart desktop entry checker.
 - Rework check update from net part to be better displayed and get the possibility to download/install the best driver for old hardware if found.
* 2023-02-26 - v2.0.15
 - Add xdpyinfo to initial install list (need by xorg configurator to get DPI depht).
 - Missing a space in initial grub config regex. Fixed.
 - Fixed a mistaken typo in dkms conf lower than 515 serie.
 - Fixed a check for older installed version in dkms compilation that was buggy on first fresh install.
 - Compilation error message display wasn't working as expected. Hopefuly fixed.
 - Compiling directly from source wasn't updated for too long and missing many vars from other previous fix. Add a signing modules too. Openssl added to package list installer.
 - Change xterm compilation/installation window to 'yad' log view window. This way is more clear and flexible for coding and fix.
 - NOTE : Compiling and installing older drivers like 390 serie and below is more messy than expected. There more work to do. At this state they do install, but system wont load them correctly (optimus case). Plus, dkms didn't find MOK signing key in the first place and just remove compiled modules at the end of the process; dkms script is really not made for what we are asking it to do. It finally works by adding a pre check function for mok files and creation if not found; it's also used now for source direct compilation. I sadly think this not the end of the tunnel.
* 2023-03-17 - v2.0.16
 - Update driver result wasn't properly diplayed (reversing official, beta) and end question was misplaced in chain resulting in the wrong window installation model. Fixed, but some filter still need to be tested and checked, especially for old driver versions.
 - Error in grub conf upodate regex preventing code to update the conf. Fixed.
 - Archive restoration was removing nvidia libs directory when restoring in fresh distro install process because the driver restored was the same as previuosly installed in /usr/local partition. Fixed.
 - Yad was replacing all depencies installation, that was a mistake. Xterm is now automaticaly installed if missing and used for basic fresh install process; Yad is still use for futur depencies addition. All starting process has been re-ordered to fit this correctly.
 - Note : Still working arround old driver and PRIME process. There is some progresses, but it appears that PRIME displaying context differ with Desktop Environment (grrr).
 - APOLOGIES : My condition slow down severly the work to do and makes me doing stupide mistakes. I am very sorry about that.
* 2023-03-31 - v2.0.17
 - As expected, install check UI was not enought set properly. This not glorious, but probably fixed now. (I hate my condition)
 - dkms repos cleaning wasn't remove previous driver dir because install process already removed the current driver, and thus dkms said that the driver was already removed (sic). Add a hard remove at the end of the post install processes.
 - Few others fixes (check git diff).
* 2023-05-15 - v2.1.5
 - Add a rescan of the pci bus in case dGPU power switch off (ex: nvidia-xrun) during pci bus detection.
 - Add a special alternative xorg config for iGPU/dGPU case. PAY ATTENTION: this feature actualy only prepare the xorg file for prime, nvidia-xrun and others offload cases, manually edit or dedicated optimus manager is still needed to really switch to dGPU support. iGPU is set as default.
 - Add an udev rule for 430 serie and older. In old series driver, kernel wasn't creating device system linking correctly. This workaround try to fix this (not garanted. nvidia-xrun could meet some issues and removed udev rule may be needed).
 - Add a remove nvidia driver function that completly remove nvidia's installation.
 - Add Xorg auto config tool to Xorg management menu.
 - Fix a non updated variable from old zenvidia version in grub postinstall config, nvidia-drm option set has been migrate to modprobe option to Simplify drm set option edit.
 - Note : It appears also that nvidia-xrun xinitrc work for old nvida-prime-select switch system for old driver series. Working on it.
 - Few other minor fixes.
* 2023-06-21 - v2.1.7
 - Difference between official and beta driver was wrongly interpreted in both zenvdia and zen_notif. Fixed.
* 2023-06-21 - v2.1.8
 - When backing up driver, the no-autoinstall dkms option wasn't saved. Fixed.
* 2023-07-07 - v2.1.11
 - After upgrade to version 3.92.0, Zenity has changed for GTK4 and doesn't display current theme anymaore (under Gnome, maybe. Mate here). GTK4 is a bit weird with Zenvidia, so choose was made to doesn't display window decoration title. The optional idea to migrate to Yad is open.
 - Zen Notify, was using 'uname -p' to get host type, but it doesn't since distro upgrade (fedora 38 here). Fixed.
 - It appears that zenity new version create a selinux alert through gdb in su mode (maybe a gdb only, mayber fedora only ?). User need to add exception for selinux.
 - zenity width and height have been modified to reflect zenity display change occordingly to zenity distro version.
 - Added a win_warnig fucntion to reflect zenity actual and future changes.
* 2023-07-16 - v2.1.12
 - Fixed missing zenity tags from the previous update issue.
* 2023-07-28 - v2.1.15
 - egrep seems to be out dated in a short time, fixed with grep -E.
 - It appears that NVIDIA device name could severly differ from the system one and a result of a false flag 'incompatible device' (optimus laptop case). This is normaly fixed now.
 - Nut shell found in xorg config for clock detection. it was only counting 2 digit instead 3. Fixed.
 - Makefile for install, update, etc processes wasn't lock to root user and resulted with wrong installation for some files and confuse zenvidia afterward when 'make install' were run again. This is hopefully fixed.
 - Fixed other missing zenity tags.
 - BUG: Zenity continue to do weird thing, it appears it wont display long text in 'text-info' option and close some nvidia help chapters unexpectedly. No clue.
* 2023-07-31 - v2.1.16
 - Zenvidia notify section displayed text and actual set was missing for an unknown reason. Fixed.
 - Zen Notify desktop entry MATE specific delay set was missing. Fixed.
 - NOTE : If your desktop manager is not GNOME or MATE, you have to setup manually displaying delay with your autostart desktop entry manager.
* 2023-08-01 - v2.1.17
 - Makefile current user detection mistake that resulting 'make update' and probably 'install' fails (thanks to my friend for sharing her laptop). Fixed.
 - Updated egrep to grep -E
* 2023-08-08 - v2.1.18
 - Changed the way of Super User detection at makefile process using 'stat' instead of 'pwd' and 'ls'.
 - Modified zen_notify's way for version detection, previous was too strict. Updated 'egrep' to 'grep -E'.
 - Zen Notify wasn't testing if local git repos were present or not. Done.
* 2023-09-02 - v2.1.24
 - It appears that zenity 3.92.0 progress windows simply ... crash in install case (but not only). Ii doesn't break the process, it just disappears. Install process display replaced by Yad for this version.
 - Driver update windown converted to Yad.
 - Driver switch converted to Yad (open/propriatary) with a few fixes.
 - Last check window in driver install process was mistaken in case of install an older driver upon the last one. Hopefully fixed.
 - Nvidia drm modeset driver was improperly set in some case. Fixed.
 - It looks like that nvidia-drm.modeset grub option set to 1 could fix tearing. This accordingly to this article (https://daanberg.net/en/kennisbank/linux-nvidia-tearing-fix/) combine with v_sync enable in nvidia-setting fix that issue. Drm modeset config has been modify to override all default set if basic conf drm_modset=1 is set.
 - It appears that nvidia-settings rc file was not load at session start. 535.104 looks like fixing this issue, but by security we add a autostart desktop file to load the file whatever the situation.
 - Note 1 : (fedora 38 case) zenity has been updated to 3.99. At this point it didn't look to fix anything.
 - Note 2 : nvidia-settings-rc autostart desktop file will install in 'make update' process. If you don't want this or if it creates issue, remove it from HOME/.config/autostart directory.
 - Note 3 : accordingly to the above note, because some applications meet issues with FSAA (like steam, cairo-dock, etc) and desktop session with v_sync, it is needed to set FSAA (antialliasing) and sync to vblank (yes) in nvidia-settings.
 - Because of the Yad migration, many commented codes are not cleaned yet. Il will be gradually in next releases.
* 2023-09-02 - v2.1.33
 - Add a Zenvidia task menu with essential features. Zenvidia and zen_notify patched accordingly (zen_notify launch the taskbar menu script). Menu entries are automatically added when needed (ex: open driver switch).
 - Yad update progress: Many functions have been modified and still under watch. Code is revisited meanwhile. (zenvidia will be upgrade v2.2 after entire Yad migration)
 - Nvidia installer do not take care of /usr/libX/nvidia installation is set. Relink to /usr/libX/nvidia from setted directory was made in post install, but faulty because new version install /usr/libX/nvidia and new content no matter what, causing between other nvidia-settings to not find profiles documentation. This is fixed.
 - The difference between open driver and closed source driver UVM module usage became too complex (open driver use it by default). Choice has been made to install all modules and avoid blacklist on UVM module and DRM molule. Code will be clean in next releases.
